<!DOCTYPE html>
<html lang="ko">
<head>
  <title>인증번호 만들기</title>
  <script >
    let isActive = false 
    // 스위치변수

    // function getToken() <- 이거는 선언식으로 함수를 작성한것
    // 토큰 생성
    const getToken = () => {

      if(isActive === false){
        isActive = true
        //위에서 rrr에 false를 줬으니 다시 true를 줘서 스위치를 켜줌
      //윗줄은 화살표 함수식으로 표현한것
        const token = String(Math.floor(Math.random() * 1000000)).padStart(6, "0")
        // console.log(token) 다큐먼트에서 보여줄거니까 필요없음. 밑에줄로 대체 
        document.getElementById("Token").innerText = token
      
        // 타이머
        let time = 180
        setInterval(function() {
          const minutes = String(Math.floor(time/60)).padStart(1,"0")
          const seconds = String(time % 60).padStart(2,"0")
          if(time >= 0){
            document.getElementById("timer").innerText = minutes + ":" + seconds
            time = time-1
          }
        },1000)
      }
    }
    // getToken안에 token이라는 기능값을 추가 해주었어서 별도로 토큰을 정의 할 필요가 없음, 
    // gerToken안에서 보이는게 기존의 콘솔이 아니라 다큐먼트에 보이는것이기 때문에 맨 마지막줄에 값을 정의해준다. 
    // 타이머를 토큰이랑 같은 버튼을 이용하니까 겟토큰이라는 큰 기능안에 같이 탑재한다. 
  </script>
</head>
<body>
  <div id="Token">000000</div>
  <!-- 여기에 아이디를 부여하는것은 000000이 들어갈 부분에 값을 줘야하기에 스크립트에서 저 부분을 사용하려고 id값을 준다. -->
  <button onclick="getToken()">인증번호 전송</button>
  <!-- 버튼이 눌리면 getToken 기능을 사용한다. -->
  <div id="timer">3:00</div>
</body>
</html>

<!-- 시간지연함수 setTimeout 시간이 지나고 한번 실행한다.
시간반복함수 setInterval 시간이 지나면 계속 실행한다. -->


<!-- 타이머 만들기 (3분) -->

<!-- let time = 180 -->
<!-- 타이머 전체의 시간을 부여한다 3분=180초 -->

<!-- setInterval(function(){

    const minutes = Math.floor(time / 60) '분'표시하기
    const seconds = time % 60 '초'표시하기

    if(time >= 0){
        console.log(minutes + ":" + seconds) '분+:+초'
        time = time - 1       초-1로 시간을 흘러가게끔 만들어주기
    }
}, 1000) -->
<!-- 타이머를 작동시키는 조건문 -->